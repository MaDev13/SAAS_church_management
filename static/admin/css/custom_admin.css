/* Church Management - Admin theme: modern, professional */

:root {
  --church-primary: #1e3a5f;
  --church-primary-light: #2c5282;
  --church-accent: #3182ce;
  --church-success: #38a169;
  --church-bg: #f0f4f8;
  --church-card: #ffffff;
  --church-border: #e2e8f0;
  --church-text: #1a202c;
  --church-text-muted: #718096;
  --church-radius: 12px;
  --church-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
  --church-shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -4px rgba(0, 0, 0, 0.04);
}

* {
  box-sizing: border-box;
}

body {
  font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
  background: var(--church-bg) !important;
  color: var(--church-text) !important;
  line-height: 1.5;
}

/* Header */
#header {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 16px !important;
  background: linear-gradient(135deg, var(--church-primary) 0%, var(--church-primary-light) 100%) !important;
  color: #fff !important;
  padding: 12px 20px !important;
  box-shadow: var(--church-shadow);
}

#header #branding {
  flex-shrink: 0;
}

#header #user-tools {
  flex: 1 !important;
  min-width: 0 !important;
}

#branding h1 {
  margin: 0 !important;
  padding: 0 !important;
}

#branding h1 a {
  color: #fff !important;
  font-weight: 700 !important;
  font-size: 1.25rem !important;
  text-decoration: none !important;
  display: inline-flex;
  align-items: center;
}

#branding h1 a:hover {
  opacity: 0.95;
}

/* ----- User tools: nombre usuario izquierda, enlaces/3 puntos derecha ----- */
.church-user-tools {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  gap: 16px !important;
  flex-wrap: nowrap !important;
  font-weight: 500 !important;
  padding: 4px 0 !important;
  width: 100% !important;
  max-width: 100% !important;
}

.church-user-info {
  display: flex !important;
  flex-direction: column !important;
  align-items: flex-start !important;
  gap: 2px !important;
  min-width: 0 !important;
  flex-shrink: 0 !important;
}

/* Bloque derecho: enlaces (escritorio) + botón 3 puntos (móvil), pegados a la esquina */
.church-user-right {
  display: flex !important;
  align-items: center !important;
  gap: 12px !important;
  margin-left: auto !important;
  flex-shrink: 0 !important;
  position: relative !important;
}

.church-user-label {
  font-size: 0.7rem !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
  color: rgba(255, 255, 255, 0.8) !important;
  font-weight: 600 !important;
}

.church-user-name {
  font-size: 0.9375rem !important;
  color: #fff !important;
  font-weight: 600 !important;
  max-width: 180px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.church-user-links {
  display: flex !important;
  align-items: center !important;
  gap: 16px !important;
}

.church-user-links a {
  color: rgba(255, 255, 255, 0.95) !important;
  text-decoration: none !important;
  font-size: 0.875rem !important;
  padding: 6px 0 !important;
  transition: opacity 0.2s;
}

.church-user-links a:hover {
  color: #fff !important;
  opacity: 0.95;
}

.church-logout-form {
  display: inline !important;
  margin: 0 !important;
}

.church-logout-form button {
  background: transparent !important;
  color: rgba(255, 255, 255, 0.95) !important;
  border: 1px solid rgba(255, 255, 255, 0.5) !important;
  padding: 6px 14px !important;
  border-radius: 6px !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  cursor: pointer !important;
  transition: background 0.2s, color 0.2s !important;
  box-shadow: none !important;
}

.church-logout-form button:hover {
  background: rgba(255, 255, 255, 0.15) !important;
  color: #fff !important;
}

/* Botón 3 puntos: solo visible en móvil */
.church-user-menu-btn {
  display: none !important;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  padding: 0 !important;
  background: rgba(255, 255, 255, 0.15) !important;
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
  border-radius: 8px !important;
  color: #fff !important;
  font-size: 1.25rem !important;
  line-height: 1 !important;
  cursor: pointer !important;
  transition: background 0.2s !important;
}

.church-user-menu-btn:hover {
  background: rgba(255, 255, 255, 0.25) !important;
}

.church-user-dropdown {
  display: none !important;
  position: absolute;
  top: 100%;
  right: 0;
  margin-top: 6px;
  min-width: 200px;
  background: var(--church-card);
  border-radius: var(--church-radius);
  box-shadow: var(--church-shadow-lg);
  border: 1px solid var(--church-border);
  padding: 8px 0;
  z-index: 1000;
}

.church-user-dropdown a,
.church-user-dropdown form {
  display: block;
  padding: 10px 16px;
  color: var(--church-text) !important;
  font-size: 0.875rem;
  text-decoration: none;
  border: none;
  background: none;
  width: 100%;
  text-align: left;
}

.church-user-dropdown a:hover {
  background: #f7fafc;
}

.church-user-dropdown form button {
  width: 100%;
  padding: 10px 16px;
  background: none;
  border: none;
  cursor: pointer;
  font-size: 0.875rem;
  color: var(--church-text);
  text-align: left;
  font-family: inherit;
}

.church-user-dropdown form button:hover {
  background: #f7fafc;
}

/* Móvil: nombre usuario izquierda, 3 puntos derecha pegados a la orilla */
@media (max-width: 768px) {
  #header {
    padding: 10px 12px !important;
  }

  .church-user-tools {
    gap: 12px !important;
  }

  .church-user-info {
    flex: 1 !important;
    min-width: 0 !important;
  }

  .church-user-links {
    display: none !important;
  }

  .church-user-right {
    margin-left: auto !important;
    padding-right: 0 !important;
  }

  .church-user-menu-btn {
    display: flex !important;
  }

  .church-user-dropdown[hidden] {
    display: none !important;
  }

  .church-user-dropdown:not([hidden]) {
    display: block !important;
  }

  .church-user-name {
    max-width: 140px;
  }
}

/* Botón Volver + Breadcrumbs */
.church-breadcrumbs-wrap {
  display: flex !important;
  align-items: center !important;
  gap: 16px !important;
  flex-wrap: wrap !important;
  margin-bottom: 20px !important;
}

.church-back-btn {
  display: inline-flex !important;
  align-items: center !important;
  gap: 6px !important;
  padding: 8px 14px !important;
  font-size: 0.8125rem !important;
  font-weight: 600 !important;
  color: var(--church-primary) !important;
  background: var(--church-card) !important;
  border: 1px solid var(--church-border) !important;
  border-radius: 8px !important;
  text-decoration: none !important;
  box-shadow: var(--church-shadow);
  transition: background 0.15s, color 0.15s, border-color 0.15s !important;
}

.church-back-btn:hover {
  background: #edf2f7 !important;
  color: var(--church-primary-light) !important;
  border-color: var(--church-accent) !important;
}

.church-back-arrow {
  font-size: 1rem !important;
  line-height: 1 !important;
}

/* Breadcrumbs */
.breadcrumbs {
  background: var(--church-card) !important;
  padding: 10px 24px !important;
  margin: 0 !important;
  border-radius: var(--church-radius);
  box-shadow: var(--church-shadow);
  font-size: 0.875rem;
  border: 1px solid var(--church-border);
}

.breadcrumbs a {
  color: var(--church-accent) !important;
  text-decoration: none;
}

.breadcrumbs a:hover {
  text-decoration: underline;
}

/* Main content area */
#content {
  padding: 24px !important;
  max-width: 1400px;
  margin: 0 auto;
}

#content h1 {
  font-size: 1.5rem !important;
  font-weight: 700 !important;
  color: var(--church-text) !important;
  margin-bottom: 20px !important;
}

/* Module (sidebar) */
#content-main {
  float: none !important;
  width: 100% !important;
}

/* Dashboard / index: grid de tarjetas pequeñas con iconos */
.church-dashboard .main {
  display: block !important;
}

.church-dashboard #content {
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 20px !important;
  justify-content: flex-start !important;
}

.church-dashboard #content-main.church-app-list {
  flex: 1 1 100% !important;
  min-width: 0 !important;
  min-height: 200px !important;
  order: 1 !important;
}

.church-dashboard #content-related.church-recent-actions {
  flex: 1 1 100% !important;
  order: 2 !important;
  max-width: 100% !important;
}

.church-dashboard-grid {
  display: grid !important;
  grid-template-columns: repeat(2, 1fr) !important;
  gap: 14px !important;
  list-style: none !important;
  padding: 0 !important;
  margin: 0 !important;
  max-width: 100% !important;
}

/* Tablet: 3 columnas */
@media (min-width: 640px) {
  .church-dashboard-grid {
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 16px !important;
  }
}

/* PC: más horizontal, 4-5 columnas */
@media (min-width: 900px) {
  .church-dashboard-grid {
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 18px !important;
  }
}

@media (min-width: 1200px) {
  .church-dashboard-grid {
    grid-template-columns: repeat(5, 1fr) !important;
    gap: 20px !important;
  }
}

.church-model-card {
  background: var(--church-card) !important;
  border-radius: var(--church-radius) !important;
  box-shadow: var(--church-shadow) !important;
  border: 1px solid var(--church-border) !important;
  padding: 16px !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  text-align: center !important;
  transition: transform 0.15s, box-shadow 0.15s, border-color 0.15s !important;
  min-height: 148px !important;
  width: 100% !important;
}

.church-model-card:hover {
  transform: translateY(-2px) !important;
  box-shadow: var(--church-shadow-lg) !important;
  border-color: var(--church-accent) !important;
}

.church-model-card--current {
  border-color: var(--church-accent) !important;
  box-shadow: 0 0 0 2px rgba(49, 130, 206, 0.2) !important;
}

.church-model-card__icon {
  width: 52px !important;
  height: 52px !important;
  border-radius: 12px !important;
  background: linear-gradient(135deg, var(--church-primary) 0%, var(--church-primary-light) 100%) !important;
  color: #fff !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  margin-bottom: 12px !important;
  flex-shrink: 0 !important;
}

.church-model-card__icon svg {
  flex-shrink: 0 !important;
}

.church-model-card__title {
  margin: 0 0 12px 0 !important;
  font-size: 0.875rem !important;
  font-weight: 600 !important;
  line-height: 1.3 !important;
  min-height: 2.6em !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.church-model-card__title a {
  color: var(--church-text) !important;
  text-decoration: none !important;
}

.church-model-card__title a:hover {
  color: var(--church-accent) !important;
}

.church-model-card__actions {
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 8px !important;
  justify-content: center !important;
  margin-top: auto !important;
}

.church-model-card__btn {
  display: inline-block !important;
  padding: 6px 12px !important;
  font-size: 0.75rem !important;
  font-weight: 600 !important;
  border-radius: 6px !important;
  text-decoration: none !important;
  transition: opacity 0.2s, transform 0.15s !important;
}

.church-model-card__btn:hover {
  opacity: 0.95 !important;
  transform: translateY(-1px) !important;
}

.church-model-card__btn--add {
  background: linear-gradient(135deg, var(--church-success) 0%, #2f855a 100%) !important;
  color: #fff !important;
  border: none !important;
}

.church-model-card__btn--change {
  background: #edf2f7 !important;
  color: var(--church-primary) !important;
  border: 1px solid var(--church-border) !important;
}

.church-model-card__btn--change:hover {
  background: #e2e8f0 !important;
  color: var(--church-primary-light) !important;
}

.church-dashboard-empty {
  padding: 24px !important;
  background: var(--church-card) !important;
  border-radius: var(--church-radius) !important;
  color: var(--church-text-muted) !important;
}

/* Acciones recientes: desplegable, abajo y poco visibles */
.church-dashboard .church-recent-actions {
  width: 100% !important;
  flex: 1 1 100% !important;
}

.church-recent-details {
  background: #f8fafc !important;
  border: 1px solid var(--church-border) !important;
  border-radius: 8px !important;
  overflow: hidden !important;
}

.church-recent-summary {
  display: flex !important;
  align-items: center !important;
  justify-content: space-between !important;
  padding: 10px 14px !important;
  font-size: 0.8125rem !important;
  font-weight: 600 !important;
  color: var(--church-text-muted) !important;
  background: #f1f5f9 !important;
  cursor: pointer !important;
  list-style: none !important;
  user-select: none !important;
}

.church-recent-summary::-webkit-details-marker,
.church-recent-summary::marker {
  display: none !important;
}

.church-recent-chevron {
  display: inline-block !important;
  width: 0 !important;
  height: 0 !important;
  border-left: 5px solid transparent !important;
  border-right: 5px solid transparent !important;
  border-top: 6px solid var(--church-text-muted) !important;
  margin-left: 8px !important;
  transition: transform 0.2s ease !important;
}

.church-recent-details[open] .church-recent-chevron {
  transform: rotate(180deg) !important;
}

.church-recent-summary:hover {
  background: #e2e8f0 !important;
  color: var(--church-text) !important;
}

.church-recent-module {
  background: #f8fafc !important;
  border-radius: 0 0 8px 8px !important;
  border: none !important;
  border-top: 1px solid var(--church-border) !important;
  overflow: hidden !important;
  box-shadow: none !important;
}

.church-recent-module h3 {
  padding: 8px 14px !important;
  margin: 0 !important;
  font-size: 0.6875rem !important;
  color: var(--church-text-muted) !important;
  text-transform: uppercase !important;
  letter-spacing: 0.04em !important;
  border-bottom: 1px solid #e2e8f0 !important;
  opacity: 0.9 !important;
}

.church-recent-module .actionlist {
  list-style: none !important;
  padding: 6px 0 !important;
  margin: 0 !important;
}

.church-recent-module .actionlist li {
  padding: 6px 14px !important;
  font-size: 0.75rem !important;
  color: var(--church-text-muted) !important;
  border-bottom: 1px solid #edf2f7 !important;
}

.church-recent-module .actionlist li:last-child {
  border-bottom: none !important;
}

.church-recent-module .actionlist a {
  color: var(--church-text-muted) !important;
  font-size: 0.75rem !important;
}

.church-recent-module .actionlist a:hover {
  color: var(--church-accent) !important;
}

.church-recent-module .mini.quiet {
  font-size: 0.6875rem !important;
  color: var(--church-text-muted) !important;
  opacity: 0.85 !important;
}

/* Fallback: módulos en otras vistas (si se usa .module table) */
#content-main .module:not(.church-recent-module) {
  background: var(--church-card) !important;
  border-radius: var(--church-radius) !important;
  box-shadow: var(--church-shadow) !important;
  border: 1px solid var(--church-border) !important;
  margin-bottom: 20px !important;
  overflow: hidden;
}

#content-main .module caption {
  background: linear-gradient(135deg, var(--church-primary) 0%, var(--church-primary-light) 100%) !important;
  color: #fff !important;
  padding: 14px 20px !important;
  margin: 0 !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
}

#content-main .module table {
  width: 100% !important;
}

#content-main .module th,
#content-main .module td {
  padding: 12px 20px !important;
  border-bottom: 1px solid var(--church-border) !important;
}

#content-main .module a {
  color: var(--church-accent) !important;
  text-decoration: none;
}

#content-main .module a:hover {
  text-decoration: underline;
}

/* Buttons */
.button, input[type="submit"], input[type="button"], .submit-row input {
  background: linear-gradient(135deg, var(--church-accent) 0%, var(--church-primary-light) 100%) !important;
  color: #fff !important;
  border: none !important;
  padding: 10px 20px !important;
  border-radius: 8px !important;
  font-weight: 600 !important;
  font-size: 0.875rem !important;
  cursor: pointer !important;
  transition: transform 0.15s, box-shadow 0.15s !important;
  box-shadow: var(--church-shadow) !important;
}

.button:hover, input[type="submit"]:hover, input[type="button"]:hover {
  opacity: 0.95;
  transform: translateY(-1px);
  box-shadow: var(--church-shadow-lg) !important;
}

.button.default {
  background: linear-gradient(135deg, var(--church-success) 0%, #2f855a 100%) !important;
}

.addlink, .addlink:link, .addlink:visited {
  background: linear-gradient(135deg, var(--church-success) 0%, #2f855a 100%) !important;
  color: #fff !important;
  padding: 8px 16px !important;
  border-radius: 8px !important;
  font-weight: 600 !important;
  text-decoration: none !important;
  display: inline-block !important;
  transition: transform 0.15s, box-shadow 0.15s !important;
}

.addlink:hover {
  color: #fff !important;
  opacity: 0.95;
  transform: translateY(-1px);
}

/* Changelist (list views) */
#changelist {
  background: var(--church-card) !important;
  border-radius: var(--church-radius) !important;
  box-shadow: var(--church-shadow) !important;
  border: 1px solid var(--church-border) !important;
  overflow: hidden;
}

#changelist .results table {
  width: 100% !important;
}

#changelist .results thead th {
  background: var(--church-primary) !important;
  color: #fff !important;
  padding: 14px 16px !important;
  font-weight: 600 !important;
  font-size: 0.875rem !important;
  border: none !important;
}

#changelist .results tbody tr:hover {
  background: #f7fafc !important;
}

#changelist .results tbody td {
  padding: 12px 16px !important;
  border-bottom: 1px solid var(--church-border) !important;
}

#changelist-filter {
  background: #f8fafc !important;
  border-left: 1px solid var(--church-border) !important;
  border-radius: 0 var(--church-radius) var(--church-radius) 0 !important;
}

#changelist-filter h2 {
  background: var(--church-primary) !important;
  color: #fff !important;
  padding: 12px 16px !important;
  font-size: 0.875rem !important;
  border-radius: 0 var(--church-radius) 0 0 !important;
}

/* Forms */
.form-row {
  padding: 12px 0 !important;
}

.form-row label {
  font-weight: 500 !important;
  color: var(--church-text) !important;
}

input[type="text"], input[type="email"], input[type="password"], input[type="date"],
input[type="number"], input[type="url"], select, textarea {
  padding: 10px 14px !important;
  border: 1px solid var(--church-border) !important;
  border-radius: 8px !important;
  font-size: 0.9375rem !important;
  font-family: inherit !important;
  transition: border-color 0.2s, box-shadow 0.2s !important;
}

input:focus, select:focus, textarea:focus {
  outline: none !important;
  border-color: var(--church-accent) !important;
  box-shadow: 0 0 0 3px rgba(49, 130, 206, 0.2) !important;
}

/* Messages */
.messagelist li.success {
  background: #c6f6d5 !important;
  color: #22543d !important;
  border-radius: 8px !important;
  padding: 12px 16px !important;
}

.messagelist li.warning {
  background: #feebc8 !important;
  color: #744210 !important;
  border-radius: 8px !important;
}

.messagelist li.error {
  background: #fed7d7 !important;
  color: #742a2a !important;
  border-radius: 8px !important;
}

/* Login page */
.login {
  background: var(--church-bg) !important;
  padding: 40px 20px !important;
}

.login #container {
  background: var(--church-card) !important;
  border-radius: var(--church-radius) !important;
  box-shadow: var(--church-shadow-lg) !important;
  border: 1px solid var(--church-border) !important;
  padding: 40px !important;
  max-width: 400px !important;
}

.login h1 {
  text-align: center !important;
  margin-bottom: 24px !important;
}

.login form input[type="text"],
.login form input[type="password"] {
  width: 100% !important;
  margin-bottom: 16px !important;
}

.login .submit-row {
  padding: 20px 0 0 0 !important;
}

.login .submit-row input {
  width: 100% !important;
}

/* Object tools (e.g. "Pasar lista" link) */
.object-tools {
  margin-bottom: 16px !important;
}

.object-tools li {
  margin-left: 8px !important;
}

/* Pager */
.pagination a, .pagination span {
  padding: 8px 12px !important;
  border-radius: 6px !important;
  margin: 0 2px !important;
}

.pagination a:hover {
  background: #edf2f7 !important;
}

.pagination .this-page {
  background: var(--church-accent) !important;
  color: #fff !important;
}

/* ----- Pasar lista & custom pages ----- */
.church-card {
  background: var(--church-card);
  border-radius: var(--church-radius);
  box-shadow: var(--church-shadow);
  border: 1px solid var(--church-border);
  padding: 24px;
  margin-bottom: 24px;
}

.church-form-row {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
  align-items: flex-end;
  margin-bottom: 24px;
}

.church-form-group label {
  display: block;
  font-weight: 600;
  color: var(--church-text);
  margin-bottom: 6px;
  font-size: 0.875rem;
}

.church-form-group input[type="date"],
.church-form-group input[type="text"],
.church-form-group select {
  min-width: 180px;
}

.church-table-wrap {
  background: var(--church-card);
  border-radius: var(--church-radius);
  box-shadow: var(--church-shadow);
  border: 1px solid var(--church-border);
  overflow: hidden;
  margin-bottom: 24px;
}

.church-table {
  width: 100%;
  border-collapse: collapse;
}

.church-table thead th {
  background: var(--church-primary);
  color: #fff;
  padding: 14px 20px;
  text-align: left;
  font-weight: 600;
  font-size: 0.875rem;
}

.church-table tbody tr {
  border-bottom: 1px solid var(--church-border);
  transition: background 0.15s;
}

.church-table tbody tr:hover {
  background: #f7fafc;
}

.church-table tbody tr:last-child {
  border-bottom: none;
}

.church-table tbody td {
  padding: 14px 20px;
  font-size: 0.9375rem;
}

.church-table input[type="checkbox"] {
  width: 18px;
  height: 18px;
  accent-color: var(--church-accent);
  cursor: pointer;
}

.church-table label {
  cursor: pointer;
  font-weight: 500;
}

.church-success-msg {
  background: #c6f6d5;
  color: #22543d;
  padding: 14px 20px;
  border-radius: 8px;
  font-weight: 600;
  margin-bottom: 20px;
  border: 1px solid #9ae6b4;
}

.church-back-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: var(--church-accent);
  font-weight: 600;
  text-decoration: none;
  margin-top: 20px;
}

.church-back-link:hover {
  text-decoration: underline;
}

.church-subtitle {
  color: var(--church-text-muted);
  font-size: 0.9375rem;
  margin-bottom: 20px;
}

.church-empty-row td {
  padding: 32px 20px !important;
  color: var(--church-text-muted);
  text-align: center;
  font-size: 0.9375rem;
}
